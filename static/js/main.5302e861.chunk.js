(this["webpackJsonptest-assignment"]=this["webpackJsonptest-assignment"]||[]).push([[0],{44:function(e,t,a){e.exports=a(95)},53:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(20),u=a.n(c),o=a(18),l=a(16),s=a(22),i=a(3),p=function(e,t){if(void 0===e)return{repos:[],contributors:[],languages:{},currentRepo:null,loading:!0,error:null};switch(t.type){case"FETCH_REPOS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case"FETCH_REPOS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{repos:t.payload,loading:!1,error:null});case"FETCH_REPO_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case"FETCH_REPO_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{currentRepo:t.payload,loading:!1,error:null});case"FETCH_CONTRIBUTORS_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case"FETCH_CONTRIBUTORS_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{contributors:t.payload,loading:!1,error:null});case"FETCH_LANGUAGES_REQUEST":return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:null});case"FETCH_LANGUAGES_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{languages:t.payload,loading:!1,error:null});case"FETCH_FAILURE":return Object(i.a)(Object(i.a)({},e),{},{loading:!1,error:t.payload});default:return e}},m=Object(s.b)(p),E=a(2),f=(a(53),function(){return n.a.createElement("header",{className:"header"},n.a.createElement(l.b,{to:"/",className:"header__logo"},"Github Dashboard"))}),g=a(10),d=a(13),h=a(15),v=a(14),_=a(41),b=a.n(_),O=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},S=a(42),R=a.n(S),C=function(e){return R()(e).startOf("hour").fromNow()},y=function(e){return e>999&&e<=999999?Math.floor(e/100)/10+"k":e},j=function(e,t){var a;return function(){var r=this,n=arguments,c=function(){a=null,e.apply(r,n)};clearTimeout(a),a=setTimeout(c,t)}},P=(a(65),function(){return n.a.createElement("div",{className:"loadingio-spinner-double-ring-06ffj4bbadfx"},n.a.createElement("div",{className:"ldio-bq9h1bvhxtj"},n.a.createElement("div",null),n.a.createElement("div",null),n.a.createElement("div",null,n.a.createElement("div",null)),n.a.createElement("div",null,n.a.createElement("div",null))))}),T=(a(66),function(e){var t=e.id,a=e.name,r=e.stargazers_count,c=e.updated_at,u=e.html_url;return n.a.createElement("div",{className:"repo__card"},n.a.createElement("h3",{className:"repo__name"},n.a.createElement(l.b,{to:"details/".concat(t)},a)),n.a.createElement("div",{className:"repo__info"},n.a.createElement("div",{className:"repo__star"},y(r)," stars"),n.a.createElement("div",null,n.a.createElement("i",null,"Updated ",C(c)))),n.a.createElement("a",{href:u,rel:"noopener noreferrer",target:"_blank"},u))}),N=function(e){var t=e.repos;return n.a.createElement("ul",null,t.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement(T,e))})))},k=a(43),U=a.n(k),x=(a(70),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:1},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement(U.a,{initialPage:0,pageCount:10,pageRangeDisplayed:4,marginPagesDisplayed:1,forcePage:this.props.currentPage,onPageChange:this.props.handlePageClick,containerClassName:"pagination",pageClassName:"pagination__item",activeClassName:"pagination__item--active",pageLinkClassName:"pagination__item-link"})}}]),a}(r.Component)),w=n.a.createContext(),A=w.Provider,F=w.Consumer,H=function(){return function(e){return function(t){return n.a.createElement(F,null,(function(a){return n.a.createElement(e,Object.assign({},t,{githubService:a}))}))}}},I=a(4),B=a.n(I),D=a(11),L=function(e){return{type:"FETCH_REPOS_SUCCESS",payload:e}},Q=function(e){return{type:"FETCH_FAILURE",payload:e}},G=function(e,t){return function(){var a=Object(D.a)(B.a.mark((function a(r){var n;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_REPOS_REQUEST"}),a.next=4,e.getMostPopularRepos(r);case 4:n=a.sent,t(L(n.items)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t(Q(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},V=function(e,t){return function(){var a=Object(D.a)(B.a.mark((function a(r,n){var c;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_REPOS_REQUEST"}),a.next=4,e.getReposByQuery(r,n);case 4:c=a.sent,t(L(c.items)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),t(Q(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e,t){return a.apply(this,arguments)}}()},M=function(e,t){return function(){var a=Object(D.a)(B.a.mark((function a(r){var n,c,u;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t({type:"FETCH_REPO_REQUEST"}),a.next=4,e.getRepoById(r);case 4:return n=a.sent,t({type:"FETCH_REPO_SUCCESS",payload:n}),t({type:"FETCH_LANGUAGES_REQUEST"}),a.next=9,e.getRepoLanguages(n.languages_url);case 9:return c=a.sent,t({type:"FETCH_LANGUAGES_SUCCESS",payload:c}),t({type:"FETCH_CONTRIBUTORS_REQUEST"}),a.next=14,e.getMostActiveContributors(n.contributors_url);case 14:u=a.sent,t({type:"FETCH_CONTRIBUTORS_SUCCESS",payload:u.slice(0,10)}),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(0),t(Q(a.t0));case 21:case"end":return a.stop()}}),a,null,[[0,18]])})));return function(e){return a.apply(this,arguments)}}()},q=(a(72),function(){return n.a.createElement("div",{className:"error-indicator"},n.a.createElement("span",{className:"oops"},"OOPS!"),n.a.createElement("span",null,"Something is wrong"))}),z=(a(73),function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(e){var r;return Object(g.a)(this,a),(r=t.call(this,e)).updateData=j((function(){r.state.searchValue?r.props.fetchReposByQuery(r.state.searchValue,r.state.currentPage):r.props.fetchRepos(r.state.currentPage)}),800),r.saveDataToLocalStorage=function(){var e=r.state,t=e.currentPage,a=e.searchValue;localStorage.setItem("currentPage",t),localStorage.setItem("searchValue",a)},r.handleInputChange=function(){var e=r.inputRef.current.value;r.setState({searchValue:e},(function(){r.saveDataToLocalStorage(),r.updateData()}))},r.handlePageClick=function(e){var t=e.selected;r.setState({currentPage:t+1},(function(){r.saveDataToLocalStorage(),r.updateData()}))},r.inputRef=n.a.createRef(),r.state={currentPage:1,searchValue:""},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.inputRef.current.focus();var t=localStorage.getItem("searchValue")||"",a=localStorage.getItem("currentPage")||1;this.setState({searchValue:t,currentPage:a},(function(){e.updateData()}))}},{key:"render",value:function(){var e=this.props,t=e.repos,a=e.loading,r=e.error,c=this.state,u=c.searchValue,o=c.currentPage;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{value:u,ref:this.inputRef,className:"search-bar",type:"text",onChange:this.handleInputChange}),n.a.createElement("div",{className:"main"},a&&n.a.createElement(P,null),r&&n.a.createElement(q,null),!r&&!a&&n.a.createElement(N,{repos:t})),u&&t.length>=10&&n.a.createElement(x,{currentPage:o-1,handlePageClick:this.handlePageClick}))}}]),a}(r.Component));z.defaultProps={error:null};var J=b()(z,800),$=O(H(),Object(o.b)((function(e){return{repos:e.repos,loading:e.loading,error:e.error}}),(function(e,t){var a=t.githubService;return{fetchRepos:G(a,e),fetchReposByQuery:V(a,e)}})))(J),K=(a(74),function(e){var t=e.user,a=t.login,r=t.avatar_url,c=t.html_url,u=t.id;return n.a.createElement("div",{className:"contributor__card",key:u},n.a.createElement("h3",{className:"contributor__name"},n.a.createElement("a",{href:c,rel:"noopener noreferrer",target:"_blank"},a)),n.a.createElement("img",{className:"contributor__userpic",src:r,alt:"userpic"}))}),W=(a(75),function(e){var t=e.users;return n.a.createElement("ul",{className:"contributor__container"},t.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement(K,{user:e}))})))}),X=(a(76),function(e){var t=e.currentRepo,a=e.languages,r=t.html_url,c=t.name,u=t.stargazers_count,o=t.updated_at,l=t.description,s=t.owner,i=s.login,p=s.html_url,m=s.avatar_url,E=Object.keys(a).join(", ");return n.a.createElement("div",{className:"details__container"},n.a.createElement("h3",{className:"details__name"},n.a.createElement("a",{href:r,rel:"noopener noreferrer",target:"_blanc"},c)),n.a.createElement("div",null,n.a.createElement("div",null,y(u)," stars"),n.a.createElement("p",{className:"details__info"},"Updated ",C(o)),n.a.createElement("img",{className:"details__userpic",src:m,alt:"userpic"}),n.a.createElement("h3",null,n.a.createElement("a",{href:p,rel:"noopener noreferrer",target:"_blanc",className:"__nickname"},i)),E?n.a.createElement("div",{className:"details__language"},n.a.createElement("b",null,"Languages:")," $",E):null,n.a.createElement("p",{className:"details__description"},l)))}),Y=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){return Object(g.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchRepo)(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.currentRepo,a=e.loading,r=e.languages,c=e.error,u=e.contributors;return n.a.createElement(n.a.Fragment,null,c&&n.a.createElement(q,null),a&&n.a.createElement(P,null),t&&!c&&!a&&n.a.createElement(X,{currentRepo:t,languages:r}),!!u.length&&!c&&!a&&n.a.createElement(W,{users:u}))}}]),a}(r.Component);Y.defaultProps={error:null};var Z=O(H(),Object(o.b)((function(e){return{currentRepo:e.currentRepo,languages:e.languages,contributors:e.contributors,loading:e.loading,error:e.error}}),(function(e,t){var a=t.githubService;return{fetchRepo:M(a,e)}})))(Y),ee=(a(77),function(){return n.a.createElement("main",{role:"main",className:"container"},n.a.createElement(f,null),n.a.createElement(E.c,null,n.a.createElement(E.a,{exact:!0,path:"/",component:$}),n.a.createElement(E.a,{path:"/details/:id",component:Z})))}),te=a(19),ae=a.n(te),re=function(e){Object(h.a)(a,e);var t=Object(v.a)(a);function a(){var e;Object(g.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={hasError:!1},e}return Object(d.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement(q,null):this.props.children}}]),a}(r.Component),ne=new function e(){var t=this;Object(g.a)(this,e),this.API_BASE="https://api.github.com",this.REPOS_PER_PAGE=10,this.getMostPopularRepos=Object(D.a)(B.a.mark((function e(){var a,r,n=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>0&&void 0!==n[0]?n[0]:1,e.next=3,ae.a.get("".concat(t.API_BASE,"/search/repositories?q=stars:>=1&page=").concat(a,"&per_page=").concat(t.REPOS_PER_PAGE,"&sort=stars&order=desc"));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)}))),this.getRepoById=function(){var e=Object(D.a)(B.a.mark((function e(a){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get("".concat(t.API_BASE,"/repositories/").concat(a));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getMostActiveContributors=function(){var e=Object(D.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getReposByQuery=function(){var e=Object(D.a)(B.a.mark((function e(a){var r,n,c=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,ae.a.get("".concat(t.API_BASE,"/search/repositories?q=").concat(a,"in:name&page=").concat(r,"&per_page=").concat(t.REPOS_PER_PAGE,"&sort=stars&order=desc"));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getRepoLanguages=function(){var e=Object(D.a)(B.a.mark((function e(t){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};u.a.render(n.a.createElement(o.a,{store:m},n.a.createElement(re,null,n.a.createElement(A,{value:ne},n.a.createElement(l.a,null,n.a.createElement(ee,null))))),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.5302e861.chunk.js.map